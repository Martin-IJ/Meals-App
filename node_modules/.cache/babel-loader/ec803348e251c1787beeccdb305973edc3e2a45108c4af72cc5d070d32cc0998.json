{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/Code/Meal App/src/Context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/React.createContext();\nconst allMealsUrl = \"https://www.themealdb.com/api/json/v1/1/search.php?s=\";\nconst randomMealUrl = \"https://www.themealdb.com/api/json/v1/1/random.php\";\nconst getFavoritesFromLocalStorage = () => {\n  let favorites = localStorage.getItem(\"favorites\");\n  if (favorites) {\n    favorites = JSON.parse(localStorage.getItem(\"favorites\"));\n  } else {\n    favorites = [];\n  }\n};\nconst AppProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(false);\n  const [meals, setMeals] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [selectedMeal, setselectedMeal] = useState(null);\n  const [favourites, setFavourites] = useState(getFavoritesFromLocalStorage());\n  const fetchMeals = async url => {\n    setLoading(true);\n    try {\n      const {\n        data\n      } = await axios(url);\n      if (data.meals) {\n        setMeals(data.meals);\n      } else {\n        setMeals([]);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n  const fetchRandomMeal = () => {\n    fetchMeals(randomMealUrl);\n  };\n  const selectMeal = (idMeal, favouriteMeal) => {\n    // if(selectMeal){\n    //   document.body.style.overflow = 'hidden'\n    // } else {\n    //   document.body.style.overflow = 'scroll'\n    // }\n\n    let meal;\n    if (favouriteMeal) {\n      meal = favourites.find(meal => meal.idMeal === idMeal);\n    } else {\n      meal = meals.find(meal => meal.idMeal === idMeal);\n    }\n    setselectedMeal(meal);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n  };\n  const addToFavourites = idMeal => {\n    const alreadyFavourite = favourites.find(meal => meal.idMeal === idMeal);\n    if (alreadyFavourite) return;\n    const meal = meals.find(meal => meal.idMeal === idMeal);\n    const updateFavourites = [...favourites, meal];\n    setFavourites(updateFavourites);\n    localStorage.setItem('favourites', JSON.stringify(updateFavourites));\n  };\n  const removeFromFavourites = idMeal => {\n    const updateFavourites = favourites.filter(meal => meal.idMeal !== idMeal);\n    setFavourites(updateFavourites);\n    localStorage.setItem('favourites', JSON.stringify(updateFavourites));\n  };\n  useEffect(() => {\n    fetchMeals(allMealsUrl);\n  }, []);\n  useEffect(() => {\n    if (!searchTerm) return;\n    fetchMeals(`${allMealsUrl}${searchTerm}`);\n  }, [searchTerm]);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      loading,\n      meals,\n      setSearchTerm,\n      fetchRandomMeal,\n      showModal,\n      selectedMeal,\n      selectMeal,\n      closeModal,\n      addToFavourites,\n      removeFromFavourites,\n      favourites\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(AppProvider, \"d9v0ysg7OHyJzQ0rQUjmryWAd28=\");\n_c = AppProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(AppContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { AppContext, AppProvider };\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","useState","useContext","useEffect","axios","jsxDEV","_jsxDEV","AppContext","createContext","allMealsUrl","randomMealUrl","getFavoritesFromLocalStorage","favorites","localStorage","getItem","JSON","parse","AppProvider","_ref","_s","children","loading","setLoading","meals","setMeals","searchTerm","setSearchTerm","showModal","setShowModal","selectedMeal","setselectedMeal","favourites","setFavourites","fetchMeals","url","data","error","console","log","fetchRandomMeal","selectMeal","idMeal","favouriteMeal","meal","find","closeModal","addToFavourites","alreadyFavourite","updateFavourites","setItem","stringify","removeFromFavourites","filter","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["/Users/mac/Desktop/Code/Meal App/src/Context.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst AppContext = React.createContext();\n\nconst allMealsUrl = \"https://www.themealdb.com/api/json/v1/1/search.php?s=\";\nconst randomMealUrl = \"https://www.themealdb.com/api/json/v1/1/random.php\";\n\nconst getFavoritesFromLocalStorage = () => {\n  let favorites = localStorage.getItem(\"favorites\");\n\n  if (favorites) {\n    favorites = JSON.parse(localStorage.getItem(\"favorites\"));\n  } else {\n    favorites = [];\n  }\n}\n\nconst AppProvider = ({ children }) => {\n  const [loading, setLoading] = useState(false);\n  const [meals, setMeals] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [selectedMeal, setselectedMeal] = useState(null);\n  const [favourites, setFavourites] = useState(getFavoritesFromLocalStorage());\n\n  const fetchMeals = async (url) => {\n    setLoading(true);\n    try {\n      const { data } = await axios(url);\n      if (data.meals) {\n        setMeals(data.meals);\n      } else {\n        setMeals([]);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n\n  const fetchRandomMeal = () => {\n    fetchMeals(randomMealUrl);\n  };\n\n  const selectMeal = (idMeal, favouriteMeal) => {\n    // if(selectMeal){\n    //   document.body.style.overflow = 'hidden'\n    // } else {\n    //   document.body.style.overflow = 'scroll'\n    // }\n\n    let meal;\n    if (favouriteMeal) {\n      meal = favourites.find((meal) => meal.idMeal === idMeal);\n    } else {\n      meal = meals.find((meal) => meal.idMeal === idMeal);\n    }\n    setselectedMeal(meal);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  const addToFavourites = (idMeal) => {\n    const alreadyFavourite = favourites.find((meal) => meal.idMeal === idMeal);\n\n    if (alreadyFavourite) return;\n\n    const meal = meals.find((meal) => meal.idMeal === idMeal);\n    const updateFavourites = [...favourites, meal];\n    setFavourites(updateFavourites);\n    localStorage.setItem('favourites', JSON.stringify(updateFavourites));\n  };\n  const removeFromFavourites = (idMeal) => {\n    const updateFavourites = favourites.filter(\n      (meal) => meal.idMeal !== idMeal\n      );\n      setFavourites(updateFavourites);\n      localStorage.setItem('favourites', JSON.stringify(updateFavourites));\n  };\n\n  useEffect(() => {\n    fetchMeals(allMealsUrl);\n  }, []);\n\n  useEffect(() => {\n    if (!searchTerm) return;\n    fetchMeals(`${allMealsUrl}${searchTerm}`);\n  }, [searchTerm]);\n\n  return (\n    <AppContext.Provider\n      value={{\n        loading,\n        meals,\n        setSearchTerm,\n        fetchRandomMeal,\n        showModal,\n        selectedMeal,\n        selectMeal,\n        closeModal,\n        addToFavourites,\n        removeFromFavourites,\n        favourites,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}